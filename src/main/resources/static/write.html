<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Product example · Bootstrap v5.0</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@500&display=swap" rel="stylesheet">
    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/product/">


    <!-- Bootstrap core CSS -->
    <link href="./assets/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>


    <!-- Custom styles for this template -->
    <link href="assets/css/product.css" rel="stylesheet">

    <script>
        // contents 유효성 검사
        function isValidContents(contents) {
            if (contents == '') {
                alert('내용을 입력해주세요. >_<');
                return false;
            }
            if (contents.trim().length > 150) {
                alert('공백 포함 150자 이하로 입력해주세요.');
                return false;
            }
            return true;
        }

        function isValidtitle(titles) {
            if (titles == '') {
                alert('내용을 입력해주세요. >_<');
                return false;
            }
            if (titles.trim().length > 50) {
                alert('공백 포함 50자 이하로 입력해주세요.');
                return false;
            }
            return true;
        }

        function writePost() {
            let titles = $('#title').val()
            let contents = $('#content').val();
            let user_name = $('#author').val();

            if (isValidtitle(titles) == false) {
                return;
            }
            if (isValidContents(contents) == false) {
                return;
            }

            let data = {'title':titles,'username': user_name, 'contents': contents};

            $.ajax({
                type: "POST",
                url: "/api/posts",
                contentType: "application/json",
                data: JSON.stringify(data),
                success: function (response) {
                    alert('메시지가 성공적으로 작성되었습니다.');
                    window.location.href = '/';
                }
            });
        }
    </script>
</head>
<body>

<header class="site-header sticky-top py-1">
    <nav class="container d-flex flex-column flex-md-row justify-content-between">
        <a class="py-2" href="/" aria-label="Product">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="d-block mx-auto" role="img"
                 viewBox="0 0 24 24"><title>Product</title>
                <circle cx="12" cy="12" r="10"/>
                <path d="M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"/>
            </svg>
        </a>
    </nav>
</header>

<main>
    <div class="container col-lg-6 " style="margin-top: 20px;">
        <h2>게시글 작성</h2>
        <div class="card" style="padding: 20px; border-radius: 15px; margin: 20px auto;" >
            <div class="form-group">
                <label>제목</label>
                <div class="col-sm-12">
                    <input id="title" type="text" class="form-control" placeholder="제목을 입력해 주세요."/>
                </div>
            </div>

            <div class="form-group" style="margin-top: 10px">
                <label>닉네임</label>
                <div class="col-sm-12">
                    <input id="author" type="text" class="form-control" placeholder="이름을 입력해 주세요."/>
                </div>
            </div>

            <div class="form-group" style="margin-top: 10px">
                <label>내용</label>
                <div class="col-sm-12">
             <textarea id="content"class="form-control" style="height: 300px;" placeholder="내용을 입력해 주세요."></textarea>
                </div>
            </div>
            <div class="btn_wrap text-center" style="margin-top: 10px">
                <a href="/" class="btn btn-default waves-effect waves-light">뒤로가기</a>
                <button onclick="writePost()" class="btn btn-primary waves-effect waves-light">저장하기</button>
            </div>
        </div>
    </div>
</main>

<footer class="container py-5">
    <div class="row">
        <div class="col-12 col-md">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
                 stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="d-block mb-2" role="img"
                 viewBox="0 0 24 24"><title>Product</title>
                <circle cx="12" cy="12" r="10"/>
                <path d="M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"/>
            </svg>
            <small class="d-block mb-3 text-muted">&copy; 2017–2021</small>
        </div>
        <div class="col-6 col-md">
            <h5>Features</h5>
            <ul class="list-unstyled text-small">
                <li><a class="link-secondary" href="#">Cool stuff</a></li>
                <li><a class="link-secondary" href="#">Random feature</a></li>
                <li><a class="link-secondary" href="#">Team feature</a></li>
                <li><a class="link-secondary" href="#">Stuff for developers</a></li>
                <li><a class="link-secondary" href="#">Another one</a></li>
                <li><a class="link-secondary" href="#">Last time</a></li>
            </ul>
        </div>
        <div class="col-6 col-md">
            <h5>Resources</h5>
            <ul class="list-unstyled text-small">
                <li><a class="link-secondary" href="#">Resource name</a></li>
                <li><a class="link-secondary" href="#">Resource</a></li>
                <li><a class="link-secondary" href="#">Another resource</a></li>
                <li><a class="link-secondary" href="#">Final resource</a></li>
            </ul>
        </div>
        <div class="col-6 col-md">
            <h5>Resources</h5>
            <ul class="list-unstyled text-small">
                <li><a class="link-secondary" href="#">Business</a></li>
                <li><a class="link-secondary" href="#">Education</a></li>
                <li><a class="link-secondary" href="#">Government</a></li>
                <li><a class="link-secondary" href="#">Gaming</a></li>
            </ul>
        </div>
        <div class="col-6 col-md">
            <h5>About</h5>
            <ul class="list-unstyled text-small">
                <li><a class="link-secondary" href="#">Team</a></li>
                <li><a class="link-secondary" href="#">Locations</a></li>
                <li><a class="link-secondary" href="#">Privacy</a></li>
                <li><a class="link-secondary" href="#">Terms</a></li>
            </ul>
        </div>
    </div>
</footer>


<script src="./assets/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>
